# x1n's Bot

<!-- index menu -->

### 引言

​	顾名思义，新的机器人~~(bushi~~

​	基于旸哥哥的YesBot的控制流思想，将源码完全重写，修改回复逻辑和文件结构之后的产品（其实好像除了Socket通信之外全改的不一样了）

​	因为Yang_99的YesBot有这么一些~~缺点~~

- 代码逻辑稍微有点混乱（其实我的一样混乱，不过大家都是只能看懂自己的代码嘛~哈哈

- 不太容易增加功能，修改可能会乱

- Setu获取时间太长，Bot会被整个阻塞

  以及一些我想要的功能

- 可以针对一句话不同回复

- rp与其他信息

- 管理员特权

  **现在这份代码的不足**

- __init_\_完全没写

- 对于命令的优先级、恶意信息的过滤

- data写成Json而非SQL，性能问题

- setu有的时候崩，怀疑是CQHTTP的问题

- 训练的对话不足

- 一些想要实现的功能尚未完善：

  - 自动ban人
  - 自动审批加群、自动撤回恶意消息
  - 转发学校通知
  - 自动去掉命令前后空格



### 目前功能

功能可以通过修改replyer.py中的函数表并在detecter里面增减函数来更新

- 检测违禁词
- 增减自定义对话
- setu
- 比setu更se的tu
- 猫猫图
- 舔狗语录
- ban固定qq，以拒绝其使用任何命令(管理员)
- 更改rp(管理员)

### 二次开发需要知道什么

- 消息传递的结构以层的方式体现，为未来开发留下了足够的信息接口，具体在distributer文件中有所描述
- 更改函数只需要更改msg_analyzer中的replyer的函数表以及detecter的函数
- 我在开发的过程中尽量留下了未来填补的余地，如固定消息尽量使用了random.choice()以便多种回复

### 如何使用

​	本地测试python3.8+，在配置好GO_CQHTTP后直接运行Main.py即可，另注意目前项目完全符合OneBot标准，理论上可以使用任何框架

